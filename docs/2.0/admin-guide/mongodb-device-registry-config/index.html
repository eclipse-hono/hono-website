<!DOCTYPE html>
<html lang="2.0">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.102.2" />
    <meta name="generator" content="Relearn 4.2.5">
    <meta name="description" content="A set of micro-services for connecting millions of devices.">
    <meta name="author" content="The Eclipse Hono Project">
    <title>MongoDB Based Device Registry Configuration :: Eclipse Hono&trade; Vers.: 2.0</title>
    <link href="/hono/docs/images/favicon.ico?1663550410" rel="icon" type="image/x-icon">
    <link href="/hono/docs/css/nucleus.css?1663550410" rel="stylesheet">
    <link href="/hono/docs/css/fontawesome-all.min.css?1663550410" rel="stylesheet">
    <link href="/hono/docs/css/featherlight.min.css?1663550410" rel="stylesheet">
    <link href="/hono/docs/css/perfect-scrollbar.min.css?1663550410" rel="stylesheet">
    <link href="/hono/docs/css/auto-complete.css?1663550410" rel="stylesheet">
    <link href="/hono/docs/css/theme.css?1663550410" rel="stylesheet">
    <link href="/hono/docs/css/theme-hono.css?1663550410" rel="stylesheet" id="variant-style">
    <link href="/hono/docs/css/ie.css?1663550410" rel="stylesheet">
    <link href="/hono/docs/css/variant.css?1663550410" rel="stylesheet">
    <link href="/hono/docs/css/print.css?1663550410" rel="stylesheet" media="print">
    <style>
      :not(pre) > code.copy-to-clipboard-code + span.copy-to-clipboard-button {
        display: none;
      }
      :not(pre) > code.copy-to-clipboard-code {
        border-bottom-right-radius: 2px;
        border-top-right-radius: 2px;
        border-right-width: 1px;
      }
    </style>
    <script src="/hono/docs/js/variant.js?1663550410"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      var index_url="/hono/docs/2.0/index.json";
      var root_url="/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      // some further base stuff
      var baseUriFull='https:\/\/www.eclipse.org\/hono\/docs/';
      variants.init( [ 'hono' ] );
    </script>
    <script src="/hono/docs/js/jquery.min.js?1663550410"></script><link rel="stylesheet" href="/hono/docs/css/hono.css" />
<link rel="stylesheet" href="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css">


<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@EclipseHono">
<meta name="twitter:title" content="MongoDB Based Device Registry Configuration :: Eclipse Hono&amp;trade; Vers.: 2.0">
<meta name="twitter:image" content="https://www.eclipse.org/hono/docs/images/twitter_image.png">
<meta name="twitter:description" content="A set of micro-services for connecting millions of devices.">


<meta property="og:title" content="MongoDB Based Device Registry Configuration :: Eclipse Hono&amp;trade; Vers.: 2.0" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.eclipse.org/hono/docs/2.0/admin-guide/mongodb-device-registry-config//" />
<meta property="og:image" content="https://www.eclipse.org/hono/docs/images/twitter_image.png" />

  </head>
  <body class="mobile-support" data-url="/hono/docs/2.0/admin-guide/mongodb-device-registry-config/">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
    <div class="old-version-hint">
        <p>This page refers to version <em>2.0</em>.
            You might want to use the <a href="https://www.eclipse.org/hono/docs/">current stable</a> version instead.
        </p>
    </div>


      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-github-link">
            <a class="github-link" title='Edit this page (CTRL+ALT+e)' href="https://github.com/eclipse-hono/hono/edit/master/site/documentation/content/admin-guide/mongodb-device-registry-config.md" target="blank">
              <i class="fas fa-pen fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" title='Menu (CTRL+ALT+m)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <span id="toc-menu" title='Table of Contents (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <meta itemprop="itemListOrder" content="Descending" />
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><meta itemprop="position" content="3" /><a itemprop="item" href="/hono/docs/2.0/"><span itemprop="name">Documentation</span></a> > </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><meta itemprop="position" content="2" /><a itemprop="item" href="/hono/docs/2.0/admin-guide/"><span itemprop="name">Admin Guide</span></a> > </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><meta itemprop="position" content="1" /><a itemprop="item" href="/hono/docs/2.0/admin-guide/mongodb-device-registry-config/" aria-disabled="true"><span itemprop="name">MongoDB Based Device Registry Configuration</span></a></li>
            </ol>
          </div>
          <div class="default-animation progress">
            <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#service-configuration">Service Configuration</a></li>
    <li><a href="#port-configuration">Port Configuration</a>
      <ul>
        <li><a href="#secure-port-only">Secure Port Only</a></li>
        <li><a href="#insecure-port-only">Insecure Port Only</a></li>
        <li><a href="#dual-port">Dual Port</a></li>
        <li><a href="#ephemeral-ports">Ephemeral Ports</a></li>
      </ul>
    </li>
    <li><a href="#authentication-service-connection-configuration">Authentication Service Connection Configuration</a></li>
    <li><a href="#metrics-configuration">Metrics Configuration</a></li>
    <li><a href="#encrypting-secrets">Encrypting Secrets</a></li>
    <li><a href="#messaging-configuration">Messaging Configuration</a>
      <ul>
        <li><a href="#amqp-10-messaging-network-connection-configuration">AMQP 1.0 Messaging Network Connection Configuration</a></li>
        <li><a href="#kafka-based-messaging-configuration">Kafka based Messaging Configuration</a></li>
      </ul>
    </li>
  </ul>
</nav>
            </div>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
          <article>

<h1>MongoDB Based Device Registry Configuration</h1>
<p>The MongoDB based Device Registry component provides an implementation of Eclipse Honoâ„¢&rsquo;s
<a href="/hono/docs/2.0/api/device-registration/">Device Registration</a>, <a href="/hono/docs/2.0/api/credentials/">Credentials</a> and
<a href="/hono/docs/2.0/api/tenant/">Tenant</a> APIs. Protocol adapters use these APIs to determine a device&rsquo;s registration
status, e.g. if it is enabled and if it is registered with a particular tenant, and to authenticate a device before
accepting any data for processing from it. In addition to the above, this Device Registry also provides an
implementation of <a href="/hono/docs/2.0/api/management/">Device Registry Management APIs</a> for managing tenants,
registration information and credentials of devices.</p>
<p>The registry is implemented as a Quarkus application, using a MongoDB database as the persistence store. It can be run
either directly from the command line or by means of starting the corresponding
<a href="https://hub.docker.com/r/eclipse/hono-service-device-registry-mongodb/">Docker image</a> created from it.</p>

<div class="box notices cstyle info">
    <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
    <div class="box-content">
<p>The registry had originally been implemented as a Spring Boot application. That variant has been removed in Hono 2.0.0.</p>
    </div>
</div>
<h2 id="service-configuration">Service Configuration</h2>
<p>The following table provides an overview of the configuration variables and corresponding system properties for
configuring the MongoDB based Device Registry.</p>
<table>
<thead>
<tr>
<th style="text-align:left">OS Environment Variable<br>Java System Property</th>
<th style="text-align:center">Mandatory</th>
<th style="text-align:left">Default</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>HONO_CREDENTIALS_SVC_CACHEMAXAGE</code><br><code>hono.credentials.svc.cacheMaxAge</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>180</code></td>
<td style="text-align:left">The maximum period of time (seconds) that information returned by the service&rsquo;s operations may be cached for.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_CREDENTIALS_SVC_COLLECTIONNAME</code><br><code>hono.credentials.svc.collectionName</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>credentials</code></td>
<td style="text-align:left">The name of the MongoDB collection where the server stores credentials of devices.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_CREDENTIALS_SVC_ENCRYPTIONKEYFILE</code><br><code>hono.credentials.svc.encryptionKeyFile</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The path to the YAML file that <a href="#encrypting-secrets">encryption keys</a> should be read from.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_CREDENTIALS_SVC_HASHALGORITHMSWHITELIST</code><br><code>hono.credentials.svc.hashAlgorithmsWhitelist</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>empty</code></td>
<td style="text-align:left">An array of supported hashing algorithms to be used with the <code>hashed-password</code> type of credentials. When not set, all values will be accepted.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_CREDENTIALS_SVC_MAXBCRYPTCOSTFACTOR</code><br><code>hono.credentials.svc.maxBcryptCostFactor</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>10</code></td>
<td style="text-align:left">The maximum cost factor that is supported in password hashes using the BCrypt hash function. This limit is enforced by the device registry when adding or updating corresponding credentials. Increasing this number allows for potentially more secure password hashes to be used. However, the time required to compute the hash increases exponentially with the cost factor.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_MONGODB_CONNECTIONSTRING</code><br><code>hono.mongodb.connectionString</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The connection string used by the Device Registry application to connect to the MongoDB database. If this property is set, it overrides the other MongoDB connection settings.<br>See <a href="https://docs.mongodb.com/manual/reference/connection-string/">Connection String URI Format</a> for more information.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_MONGODB_CONNECTIONTIMEOUTINMS</code><br><code>hono.mongodb.connectionTimeoutInMs</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>10000</code></td>
<td style="text-align:left">The time in milliseconds to attempt a connection before timing out.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_MONGODB_DBNAME</code><br><code>hono.mongodb.dbName</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The name of the MongoDB database that should be used by the Device Registry application.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_MONGODB_HOST</code><br><code>hono.mongodb.host</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>localhost</code></td>
<td style="text-align:left">The host name or IP address of the MongoDB instance.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_MONGODB_PORT</code><br><code>hono.mongodb.port</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>27017</code></td>
<td style="text-align:left">The port that the MongoDB instance is listening on.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_MONGODB_PASSWORD</code><br><code>hono.mongodb.password</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The password to use for authenticating to the MongoDB instance.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_MONGODB_SERVERSELECTIONTIMEOUTINMS</code><br><code>hono.mongodb.serverSelectionTimeoutInMs</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>1000</code></td>
<td style="text-align:left">The time in milliseconds that the mongo driver will wait to select a server for an operation before raising an error.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_MONGODB_USERNAME</code><br><code>hono.mongodb.username</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The user name to use for authenticating to the MongoDB instance.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_AMQP_BINDADDRESS</code><br><code>hono.registry.amqp.bindAddress</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>127.0.0.1</code></td>
<td style="text-align:left">The IP address of the network interface that the secure AMQP port should be bound to.<br>See <a href="#port-configuration">Port Configuration</a> below for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_AMQP_CERTPATH</code><br><code>hono.registry.amqp.certPath</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The absolute path to the PEM file containing the certificate that the server should use for authenticating to clients. This option must be used in conjunction with <code>HONO_REGISTRY_AMQP_KEYPATH</code>.<br>Alternatively, the <code>HONO_REGISTRY_AMQP_KEYSTOREPATH</code> option can be used to configure a key store containing both the key as well as the certificate.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_AMQP_INSECUREPORT</code><br><code>hono.registry.amqp.insecurePort</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The insecure port the server should listen on for AMQP 1.0 connections.<br>See <a href="#port-configuration">Port Configuration</a> below for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_AMQP_INSECUREPORTBINDADDRESS</code><br><code>hono.registry.amqp.insecurePortBindAddress</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>127.0.0.1</code></td>
<td style="text-align:left">The IP address of the network interface that the insecure AMQP port should be bound to.<br>See <a href="#port-configuration">Port Configuration</a> below for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_AMQP_INSECUREPORTENABLED</code><br><code>hono.registry.amqp.insecurePortEnabled</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>false</code></td>
<td style="text-align:left">If set to <code>true</code> the server will open an insecure port (not secured by TLS) using either the port number set via <code>HONO_REGISTRY_AMQP_INSECUREPORT</code> or the default AMQP port number (<code>5672</code>) if not set explicitly.<br>See <a href="#port-configuration">Port Configuration</a> below for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_AMQP_KEYPATH</code><br><code>hono.registry.amqp.keyPath</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The absolute path to the (PKCS8) PEM file containing the private key that the server should use for authenticating to clients. This option must be used in conjunction with <code>HONO_REGISTRY_AMQP_CERTPATH</code>. Alternatively, the <code>HONO_REGISTRY_AMQP_KEYSTOREPATH</code> option can be used to configure a key store containing both the key as well as the certificate.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_AMQP_KEYSTOREPASSWORD</code><br><code>hono.registry.amqp.keyStorePassword</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The password required to read the contents of the key store.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_AMQP_KEYSTOREPATH</code><br><code>hono.registry.amqp.keyStorePath</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The absolute path to the Java key store containing the private key and certificate that the server should use for authenticating to clients. Either this option or the <code>HONO_REGISTRY_AMQP_KEYPATH</code> and <code>HONO_REGISTRY_AMQP_CERTPATH</code> options need to be set in order to enable TLS secured connections with clients. The key store format can be either <code>JKS</code> or <code>PKCS12</code> indicated by a <code>.jks</code> or <code>.p12</code> file suffix respectively.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_AMQP_NATIVETLSREQUIRED</code><br><code>hono.registry.amqp.nativeTlsRequired</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>false</code></td>
<td style="text-align:left">The server will probe for OpenSSL on startup if a secure port is configured. By default, the server will fall back to the JVM&rsquo;s default SSL engine if not available. However, if set to <code>true</code>, the server will fail to start at all in this case.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_AMQP_PORT</code><br><code>hono.registry.amqp.port</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>5671</code></td>
<td style="text-align:left">The secure port that the server should listen on for AMQP 1.0 connections.<br>See <a href="#port-configuration">Port Configuration</a> below for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_AMQP_RECEIVERLINKCREDIT</code><br><code>hono.registry.amqp.receiverLinkCredit</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>100</code></td>
<td style="text-align:left">The number of credits to (initially) flow to a client connecting to one of the registry&rsquo;s endpoints.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_AMQP_SECUREPROTOCOLS</code><br><code>hono.registry.amqp.secureProtocols</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>TLSv1.3,TLSv1.2</code></td>
<td style="text-align:left">A (comma separated) list of secure protocols (in order of preference) that are supported when negotiating TLS sessions. Please refer to the <a href="https://vertx.io/docs/vertx-core/java/#ssl">vert.x documentation</a> for a list of supported protocol names.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_AMQP_SUPPORTEDCIPHERSUITES</code><br><code>hono.registry.amqp.supportedCipherSuites</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">A (comma separated) list of names of cipher suites (in order of preference) that are supported when negotiating TLS sessions. Please refer to <a href="https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#jsse-cipher-suite-names">JSSE Cipher Suite Names</a> for a list of supported names.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_AUTH_COLLECTIONNAME</code><br><code>hono.registry.http.auth.collectionName</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>user</code></td>
<td style="text-align:left">The name of the Mongo collection that contains the user accounts that are authorized to access the HTTP endpoint. Please refer to the <a href="https://vertx.io/docs/3.9.12/vertx-auth-mongo/java/">vert.x documentation</a> for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_AUTH_HASHALGORITHM</code><br><code>hono.registry.http.auth.hashAlgorithm</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>PBKDF2</code></td>
<td style="text-align:left">The name of the property that contains the algorithm to be used for creating the password hash. Valid values are <code>PBKDF2</code> and <code>SHA512</code>. Please refer to the <a href="https://vertx.io/docs/3.9.12/vertx-auth-mongo/java/">vert.x documentation</a> for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_AUTH_PASSWORDFIELD</code><br><code>hono.registry.http.auth.passwordField</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>password</code></td>
<td style="text-align:left">The name of the property that contains an account&rsquo;s password. Please refer to the <a href="https://vertx.io/docs/3.9.12/vertx-auth-mongo/java/">vert.x documentation</a> for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_AUTH_SALTFIELD</code><br><code>hono.registry.http.auth.saltField</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>salt</code></td>
<td style="text-align:left">The name of the property that contains a password hash&rsquo;s salt (if the <code>HONO_REGISTRY_HTTP_AUTH_SALTSTYLE</code> has value <code>COLUMN</code>). Please refer to the <a href="https://vertx.io/docs/3.9.12/vertx-auth-mongo/java/">vert.x documentation</a> for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_AUTH_SALTSTYLE</code><br><code>hono.registry.http.auth.saltStyle</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>COLUMN</code></td>
<td style="text-align:left">The strategy to use for storing password salt values. Please refer to the <a href="https://vertx.io/docs/3.9.12/vertx-auth-mongo/java/">vert.x documentation</a> for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_AUTH_USERNAMEFIELD</code><br><code>hono.registry.http.auth.usernameField</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>username</code></td>
<td style="text-align:left">The name of the property that contains an account&rsquo;s user name. Please refer to the <a href="https://vertx.io/docs/3.9.12/vertx-auth-mongo/java/">vert.x documentation</a> for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_AUTHENTICATIONREQUIRED</code><br><code>hono.registry.http.authenticationRequired</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left">If set to <code>true</code> the HTTP endpoint of the Device Registry requires clients to authenticate when connecting to the Device Registry. The MongoDB based Device Registry currently supports basic authentication with user credentials being read from a Mongo collection defined by <code>HONO_REGISTRY_HTTP_AUTH_COLLECTIONNAME</code>. <br>For more information on how to manage users please refer to <a href="https://vertx.io/docs/3.9.12/vertx-auth-mongo/java/">Mongo Auth Provider</a>.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_BINDADDRESS</code><br><code>hono.registry.http.bindAddress</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>127.0.0.1</code></td>
<td style="text-align:left">The IP address of the network interface that the secure HTTP port should be bound to.<br>See <a href="#port-configuration">Port Configuration</a> below for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_CERTPATH</code><br><code>hono.registry.http.certPath</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The absolute path to the PEM file containing the certificate that the server should use for authenticating to clients. This option must be used in conjunction with <code>HONO_REGISTRY_HTTP_KEYPATH</code>.<br>Alternatively, the <code>HONO_REGISTRY_HTTP_KEYSTOREPATH</code> option can be used to configure a key store containing both the key as well as the certificate.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_DEVICEIDPATTERN</code><br><code>hono.registry.http.deviceIdPattern</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>^[a-zA-Z0-9-_\.:]+$</code></td>
<td style="text-align:left">The regular expression to use to validate device ID. Please refer to the <a href="https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html">java pattern documentation</a>.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_IDLETIMEOUT</code><br><code>hono.registry.http.idleTimeout</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>60</code></td>
<td style="text-align:left">The idle timeout in seconds. A connection will timeout and be closed if no data is received or sent within the idle timeout period. A zero value means no timeout is used.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_INSECUREPORT</code><br><code>hono.registry.http.insecurePort</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The insecure port the server should listen on for HTTP requests.<br>See <a href="#port-configuration">Port Configuration</a> below for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_INSECUREPORTBINDADDRESS</code><br><code>hono.registry.http.insecurePortBindAddress</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>127.0.0.1</code></td>
<td style="text-align:left">The IP address of the network interface that the insecure HTTP port should be bound to.<br>See <a href="#port-configuration">Port Configuration</a> below for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_INSECUREPORTENABLED</code><br><code>hono.registry.http.insecurePortEnabled</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>false</code></td>
<td style="text-align:left">If set to <code>true</code> the server will open an insecure port (not secured by TLS) using either the port number set via <code>HONO_REGISTRY_HTTP_INSECUREPORT</code> or the default HTTP port number (<code>8080</code>) if not set explicitly.<br>See <a href="#port-configuration">Port Configuration</a> below for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_KEYPATH</code><br><code>hono.registry.http.keyPath</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The absolute path to the (PKCS8) PEM file containing the private key that the server should use for authenticating to clients. This option must be used in conjunction with <code>HONO_REGISTRY_HTTP_CERTPATH</code>. Alternatively, the <code>HONO_REGISTRY_HTTP_KEYSTOREPATH</code> option can be used to configure a key store containing both the key as well as the certificate.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_KEYSTOREPASSWORD</code><br><code>hono.registry.http.keyStorePassword</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The password required to read the contents of the key store.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_KEYSTOREPATH</code><br><code>hono.registry.http.keyStorePath</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The absolute path to the Java key store containing the private key and certificate that the server should use for authenticating to clients. Either this option or the <code>HONO_REGISTRY_HTTP_KEYPATH</code> and <code>HONO_REGISTRY_HTTP_CERTPATH</code> options need to be set in order to enable TLS secured connections with clients. The key store format can be either <code>JKS</code> or <code>PKCS12</code> indicated by a <code>.jks</code> or <code>.p12</code> file suffix respectively.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_MAXPAYLOADSIZE</code><br><code>hono.registry.http.maxPayloadSize</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>16000</code></td>
<td style="text-align:left">The maximum size of an HTTP request body in bytes that is accepted by the registry.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_PORT</code><br><code>hono.registry.http.port</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>8443</code></td>
<td style="text-align:left">The secure port that the server should listen on for HTTP requests.<br>See <a href="#port-configuration">Port Configuration</a> below for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_SECUREPROTOCOLS</code><br><code>hono.registry.http.secureProtocols</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>TLSv1.3,TLSv1.2</code></td>
<td style="text-align:left">A (comma separated) list of secure protocols (in order of preference) that are supported when negotiating TLS sessions. Please refer to the <a href="https://vertx.io/docs/vertx-core/java/#ssl">vert.x documentation</a> for a list of supported protocol names.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_SUPPORTEDCIPHERSUITES</code><br><code>hono.registry.http.supportedCipherSuites</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">A (comma separated) list of names of cipher suites (in order of preference) that are supported when negotiating TLS sessions. Please refer to <a href="https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#jsse-cipher-suite-names">JSSE Cipher Suite Names</a> for a list of supported names.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_HTTP_TENANTIDPATTERN</code><br><code>hono.registry.http.tenantIdPattern</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>^[a-zA-Z0-9-_\.]+$</code></td>
<td style="text-align:left">The regular expression to use to validate tenant ID. Please refer to the <a href="https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html">java pattern documentation</a>.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_SVC_CACHEMAXAGE</code><br><code>hono.registry.svc.cacheMaxAge</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>180</code></td>
<td style="text-align:left">The maximum period of time (seconds) that information returned by the service&rsquo;s operations may be cached for.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_SVC_COLLECTIONNAME</code><br><code>hono.registry.svc.collectionName</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>devices</code></td>
<td style="text-align:left">The name of the MongoDB collection where the server stores registered device information.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_SVC_MAXDEVICESPERTENANT</code><br><code>hono.registry.svc.maxDevicesPerTenant</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>-1</code></td>
<td style="text-align:left">The number of devices that can be registered for each tenant. It is an error to set this property to a value &lt; -1. The value <code>-1</code> indicates that no limit is set.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_REGISTRY_SVC_USERNAMEPATTERN</code><br><code>hono.registry.svc.usernamePattern</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>^[a-zA-Z0-9-_=\\.]+$</code></td>
<td style="text-align:left">The regular expression to use for validating authentication identifiers (user names) of hashed-password credentials.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_TENANT_SVC_CACHEMAXAGE</code><br><code>hono.tenant.svc.cacheMaxAge</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>180</code></td>
<td style="text-align:left">The maximum period of time (seconds) that information returned by the service&rsquo;s operations may be cached for.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_TENANT_SVC_COLLECTIONNAME</code><br><code>hono.tenant.svc.collectionName</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>tenants</code></td>
<td style="text-align:left">The name of the MongoDB collection where the server stores tenants information.</td>
</tr>
</tbody>
</table>
<p>The variables only need to be set if the default value does not match your environment.</p>
<p>In addition to the options described in the table above, this component supports the following standard configuration
options:</p>
<ul>
<li><a href="/hono/docs/2.0/admin-guide/common-config/#java-vm-options">Common Java VM Options</a></li>
<li><a href="/hono/docs/2.0/admin-guide/common-config/#vertx-options">Common vert.x Options</a></li>
<li><a href="/hono/docs/2.0/admin-guide/monitoring-tracing-config/">Monitoring Options</a></li>
</ul>
<h2 id="port-configuration">Port Configuration</h2>
<p>The device registry supports configuration of both an AMQP based endpoint exposing the Tenant, Device
Registration and Credentials APIs as well as an HTTP based endpoint providing resources for managing tenants,
registration information and credentials as defined by the <a href="/hono/docs/2.0/api/management/">Registry Management API</a>.
Both endpoints can be configured to listen for connections on</p>
<ul>
<li>a secure port only (default) or</li>
<li>an insecure port only or</li>
<li>both a secure and an insecure port (dual port configuration)</li>
</ul>
<p>The registry will fail to start if none of the ports is configured properly.</p>
<p>The following sections apply to configuring both the AMQP and the HTTP endpoint. The environment variables to use for
configuring the HTTP endpoint are the same as the ones for the AMQP endpoint, substituting <code>_AMQP_</code> with <code>_HTTP_</code>,
e.g. <code>HONO_REGISTRY_HTTP_KEYPATH</code> instead of <code>HONO_REGISTRY_AMQP_KEYPATH</code>.</p>
<h3 id="secure-port-only">Secure Port Only</h3>
<p>The server needs to be configured with a private key and certificate in order to open a TLS secured port.</p>
<p>There are two alternative ways for doing so:</p>
<ol>
<li>Setting the <code>HONO_REGISTRY_AMQP_KEYSTOREPATH</code> and the <code>HONO_REGISTRY_AMQP_KEYSTOREPASSWORD</code> variables in order to load the
key &amp; certificate from a password protected key store, or</li>
<li>setting the <code>HONO_REGISTRY_AMQP_KEYPATH</code> and <code>HONO_REGISTRY_AMQP_CERTPATH</code> variables in order to load the key and certificate
from two separate PEM files in PKCS8 format.</li>
</ol>
<p>When starting up, the server will bind a TLS secured socket to the default secure port (<code>5671</code> for AMQP and <code>8443</code> for HTTP).
The port number can also be set explicitly using the <code>HONO_REGISTRY_AMQP_PORT</code> variable.</p>
<p>The <code>HONO_REGISTRY_AMQP_BINDADDRESS</code> variable can be used to specify the network interface that the port should be exposed on.
By default, the port is bound to the <em>loopback device</em> only, i.e. the port will only be accessible from the local host.
Setting this variable to <code>0.0.0.0</code> will let the port being bound to <strong>all</strong> network interfaces (be careful not to expose
the port unintentionally to the outside world).</p>
<h3 id="insecure-port-only">Insecure Port Only</h3>
<p>The secure port will mostly be required for production scenarios. However, it might be desirable to expose a non-TLS
secured port instead, e.g. for testing purposes. In any case, the non-secure port needs to be explicitly enabled either
by</p>
<ul>
<li>explicitly setting <code>HONO_REGISTRY_AMQP_INSECUREPORT</code> to a valid port number, or</li>
<li>implicitly configuring the default port (<code>5672</code> for AMQP and <code>8080</code> for HTTP) to be used by setting
<code>HONO_REGISTRY_AMQP_INSECUREPORTENABLED</code> to <code>true</code>.</li>
</ul>
<p>The server issues a warning on the console if one of the insecure ports is set to the corresponding default secure port.</p>
<p>The <code>HONO_REGISTRY_AMQP_INSECUREPORTBINDADDRESS</code> variable can be used to specify the network interface that the port should be
exposed on. By default, the port is bound to the <em>loopback device</em> only, i.e. the port will only be accessible from the
local host. This variable might be used to e.g. expose the non-TLS secured port on a local interface only, thus
providing easy access from within the local network, while still requiring encrypted communication when accessed from
the outside over public network infrastructure.</p>
<p>Setting this variable to <code>0.0.0.0</code> will let the port being bound to <strong>all</strong> network interfaces (be careful not to expose
the port unintentionally to the outside world).</p>
<h3 id="dual-port">Dual Port</h3>
<p>In test setups and some production scenarios Hono server may be configured to open one secure <strong>and</strong> one insecure port
at the same time.</p>
<p>This is achieved by configuring both ports correctly (see above). The server will fail to start if both ports are
configured to use the same port number.</p>
<p>Since the secure port may need different visibility in the network setup compared to the secure port, it has its own
binding address <code>HONO_REGISTRY_AMQP_INSECUREPORTBINDADDRESS</code>. This can be used to narrow the visibility of the insecure port
to a local network e.g., while the secure port may be visible worldwide.</p>
<h3 id="ephemeral-ports">Ephemeral Ports</h3>
<p>Both the secure as well as the insecure port numbers may be explicitly set to <code>0</code>. The registry will then use
arbitrary (unused) port numbers determined by the operating system during startup.</p>
<h2 id="authentication-service-connection-configuration">Authentication Service Connection Configuration</h2>
<p>The Device Registry requires a connection to an implementation of Hono&rsquo;s Authentication API in order to authenticate
and authorize client requests.</p>
<p>The connection is configured according to the <a href="/hono/docs/2.0/admin-guide/hono-client-configuration/">Hono Client Configuration</a>
where the <code>${PREFIX}</code> is set to <code>HONO_AUTH</code>. Since Hono&rsquo;s Authentication Service does not allow caching of the responses,
the cache properties can be ignored.</p>
<p>In addition to the standard client configuration properties, the following properties may be set for the connection:</p>
<table>
<thead>
<tr>
<th style="text-align:left">OS Environment Variable<br>Java System Property</th>
<th style="text-align:center">Mandatory</th>
<th style="text-align:left">Default</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>HONO_AUTH_VALIDATION_CERTPATH</code><br><code>hono.auth.validation.certPath</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">The absolute path to the PEM file containing the an X.509 certificate that the service should use for validating tokens issued by the Authentication service. Alternatively, a symmetric key can be used for validating tokens by setting the <code>HONO_AUTH_VALIDATION_SHAREDSECRET</code> variable. If none of these variables is set, startup of the service fails.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_AUTH_VALIDATION_SHAREDSECRET</code><br><code>hono.auth.validation.sharedSecret</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left">-</td>
<td style="text-align:left">A string to derive a symmetric key from which is used for validating tokens issued by the Authentication service. The key is derived from the string by using the bytes of the String&rsquo;s UTF8 encoding. When setting the validation key using this variable, the Authentication service <strong>must</strong> be configured with the same key. Alternatively, an X.509 certificate can be used for validating tokens by setting the <code>HONO_AUTH_VALIDATION_CERTPATH</code> variable. If none of these variables is set, startup of the service fails.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_AUTH_SUPPORTEDSASLMECHANISMS</code><br><code>hono.auth.supportedSaslMechanisms</code></td>
<td style="text-align:center">no</td>
<td style="text-align:left"><code>EXTERNAL, PLAIN</code></td>
<td style="text-align:left">A (comma separated) list of the SASL mechanisms that the device registry should offer to clients for authentication. This option may be set to specify only one of <code>EXTERNAL</code> or <code>PLAIN</code>, or to use a different order.</td>
</tr>
</tbody>
</table>
<h2 id="metrics-configuration">Metrics Configuration</h2>
<p>See <a href="/hono/docs/2.0/admin-guide/monitoring-tracing-config/">Monitoring &amp; Tracing Admin Guide</a> for details on how to configure
the reporting of metrics.</p>
<h2 id="encrypting-secrets">Encrypting Secrets</h2>
<p>Hono&rsquo;s CoAP protocol adapter supports authentication of devices during the DTLS handshake based on a <em>pre-shared key</em>.
A pre-shared key is an arbitrary sequence of bytes which both the device as well as the protocol adapter need to present
during the handshake in order to prove their identity.
The Mongo DB based registry implementation supports managing these keys by means of PSK credentials which can be set for
devices. By default, the bytes representing the key are stored as a base64 encoded string property of the credentials
document. In order to better protect these keys from unintended disclosure, the registry can be configured to encrypt
these keys before they are written to the database collection. During read operations the keys are then decrypted
again before they are returned to an authorized client.</p>
<p>In order to activate this transparent encryption/decryption, the <code>HONO_CREDENTIALS_SVC_ENCRYPTIONKEYFILE</code> configuration
variable needs to be set to the path to a YAML file containing the definition of the symmetric keys that should be used
for encryption. The file is expected to have the following format:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">defaultKey</span>: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">keys</span>:
</span></span><span style="display:flex;"><span>- <span style="color:#f92672">version</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">key</span>: <span style="color:#ae81ff">hqHKBLV83LpCqzKpf8OvutbCs+O5wX5BPu3btWpEvXA=</span>
</span></span><span style="display:flex;"><span>- <span style="color:#f92672">version</span>: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">key</span>: <span style="color:#ae81ff">ge2L+MA9jLA8UiUJ4z5fUoK+Lgj2yddlL6EzYIBqb1Q=</span>
</span></span></code></pre></div><p>The file needs to contain at least all versions of the key that values in the database collection have been encrypted with.
Otherwise the registry will not be able to decrypt these values during reading. The <code>defaultKey</code> property indicates the
version of the key that should be used when encrypting values. Please refer to the
<a href="https://github.com/bolcom/cryptvault">CryptVault project</a> for additional information regarding key rotation.</p>
<h2 id="messaging-configuration">Messaging Configuration</h2>
<p>The Device Registry uses a connection to an <em>AMQP 1.0 Messaging Network</em> and/or an <em>Apache Kafka cluster</em> to</p>
<ul>
<li>send <a href="/hono/docs/2.0/api/event/#device-provisioning-notification">Device Provisioning Notification</a> event messages
to convey provisioning related changes regarding a device, to be received by downstream applications,</li>
<li>send notification messages about changes to tenant/device/credentials data, to be processed by other Hono components.</li>
</ul>
<p>For the event messages a connection to a <em>Apache Kafka cluster</em> is used by default, if configured.
If both kinds of messaging are configured, the decision which one to use is done according to the
<a href="/hono/docs/2.0/admin-guide/hono-kafka-client-configuration/#configuring-tenants-to-use-kafka-based-messaging">Tenant Configuration</a>.</p>
<p>For notification messages, the Kafka connection is used by default, if configured. Otherwise the <em>AMQP messaging network</em>
is used.</p>
<h3 id="amqp-10-messaging-network-connection-configuration">AMQP 1.0 Messaging Network Connection Configuration</h3>
<p>The connection to the <em>AMQP 1.0 Messaging Network</em> is configured according to the
<a href="/hono/docs/2.0/admin-guide/hono-client-configuration/">Hono Client Configuration</a> with <code>HONO_MESSAGING</code> being used as <code>${PREFIX}</code>.
Since there are no responses being received, the properties for configuring response caching can be ignored.</p>
<h3 id="kafka-based-messaging-configuration">Kafka based Messaging Configuration</h3>
<p>The connection to an <em>Apache Kafka cluster</em> can be configured according to the
<a href="/hono/docs/2.0/admin-guide/hono-kafka-client-configuration/">Hono Kafka Client Configuration</a>.</p>
<p>The following table shows the prefixes to be used to individually configure the Kafka clients used by the Device Registry.
The individual client configuration is optional, a minimal configuration may only contain a common client
configuration consisting of properties prefixed with <code>HONO_KAFKA_COMMONCLIENTCONFIG_</code> and <code>hono.kafka.commonClientConfig.</code>
respectively.</p>
<table>
<thead>
<tr>
<th style="text-align:left">OS Environment Variable Prefix<br>Java System Property Prefix</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>HONO_KAFKA_EVENT_PRODUCERCONFIG_</code><br><code>hono.kafka.event.producerConfig.</code></td>
<td style="text-align:left">Configures the Kafka producer that publishes event messages.</td>
</tr>
<tr>
<td style="text-align:left"><code>HONO_KAFKA_NOTIFICATION_PRODUCERCONFIG_</code><br><code>hono.kafka.notification.producerConfig.</code></td>
<td style="text-align:left">Configures the Kafka producer that publishes notification messages about changes to tenant/device/credentials data.</td>
</tr>
</tbody>
</table>

            <footer class="footline">
            </footer>
          </article>
        </div>
      </main>
    </div>
    <aside id="sidebar" class="default-animation">
      <div id="header-wrapper" class="default-animation">
        <div id="header" class="default-animation">
<a href="https://www.eclipse.org/hono/">
    <img src="/hono/docs/images/HONO-Logo_Bild-Wort_quer-w-310x120px.svg" alt="Hono logo" class="logo-img">
</a>

        </div>
        <div class="searchbox default-animation">
          <label for="search-by"><i class="fas fa-search"></i></label>
          <input data-search-input id="search-by" type="search" placeholder="Search...">
          <span data-search-clear=""><i class="fas fa-times"></i></span>
        </div>
        <script>
          var contentLangs=['en'];
        </script>
        <script src="/hono/docs/js/auto-complete.js?1663550410"></script>
        <script src="/hono/docs/js/lunr.min.js?1663550410"></script>
        <script src="/hono/docs/js/lunr.stemmer.support.min.js?1663550410"></script>
        <script src="/hono/docs/js/lunr.multi.min.js?1663550410"></script>
        <script src="/hono/docs/js/lunr.en.min.js?1663550410"></script>
        <script src="/hono/docs/js/search.js?1663550410"></script>
      </div>
      <div id="content-wrapper" class="highlightable">
        <ul class="topics">
          <li data-nav-id="/hono/docs/2.0/getting-started/" title="Getting started with Eclipse Hono" class="dd-item"><a href="/hono/docs/2.0/getting-started/"><i class="fas fa-plane-departure"></i> Getting started</a></li>
          <li data-nav-id="/hono/docs/2.0/concepts/" title="Concepts" class="dd-item"><input type="checkbox" id="section-dc8a1c63e6da60163016ce21cae1faa0" class="toggle"/><label for="section-dc8a1c63e6da60163016ce21cae1faa0" ></label><a href="/hono/docs/2.0/concepts/"><i class="far fa-lightbulb"></i> Concepts</a><ul>
          <li data-nav-id="/hono/docs/2.0/concepts/device-identity/" title="Device Identity" class="dd-item"><a href="/hono/docs/2.0/concepts/device-identity/">Device Identity</a></li>
          <li data-nav-id="/hono/docs/2.0/concepts/tenancy/" title="Multi-Tenancy" class="dd-item"><a href="/hono/docs/2.0/concepts/tenancy/">Multi-Tenancy</a></li>
          <li data-nav-id="/hono/docs/2.0/concepts/device-provisioning/" title="Device Provisioning" class="dd-item"><a href="/hono/docs/2.0/concepts/device-provisioning/">Device Provisioning</a></li>
          <li data-nav-id="/hono/docs/2.0/concepts/connecting-devices/" title="Connecting Devices" class="dd-item"><a href="/hono/docs/2.0/concepts/connecting-devices/">Connecting Devices</a></li>
          <li data-nav-id="/hono/docs/2.0/concepts/device-notifications/" title="Device Notifications" class="dd-item"><a href="/hono/docs/2.0/concepts/device-notifications/">Device Notifications</a></li>
          <li data-nav-id="/hono/docs/2.0/concepts/command-and-control/" title="Command &amp; Control" class="dd-item"><a href="/hono/docs/2.0/concepts/command-and-control/">Command &amp; Control</a></li>
          <li data-nav-id="/hono/docs/2.0/concepts/resource-limits/" title="Resource limits" class="dd-item"><a href="/hono/docs/2.0/concepts/resource-limits/">Resource limits</a></li>
          <li data-nav-id="/hono/docs/2.0/concepts/connection-events/" title="Connection Events" class="dd-item"><a href="/hono/docs/2.0/concepts/connection-events/">Connection Events</a></li></ul></li>
          <li data-nav-id="/hono/docs/2.0/user-guide/" title="User Guide" class="dd-item"><input type="checkbox" id="section-43170fd4b1d999bb931c5c3267a4cd69" class="toggle"/><label for="section-43170fd4b1d999bb931c5c3267a4cd69" ></label><a href="/hono/docs/2.0/user-guide/"><i class="fas fa-book-reader"></i> User Guide</a><ul>
          <li data-nav-id="/hono/docs/2.0/user-guide/device-registry/" title="Device Registry" class="dd-item"><a href="/hono/docs/2.0/user-guide/device-registry/">Device Registry</a></li>
          <li data-nav-id="/hono/docs/2.0/user-guide/http-adapter/" title="HTTP Adapter" class="dd-item"><a href="/hono/docs/2.0/user-guide/http-adapter/">HTTP Adapter</a></li>
          <li data-nav-id="/hono/docs/2.0/user-guide/mqtt-adapter/" title="MQTT Adapter" class="dd-item"><a href="/hono/docs/2.0/user-guide/mqtt-adapter/">MQTT Adapter</a></li>
          <li data-nav-id="/hono/docs/2.0/user-guide/amqp-adapter/" title="AMQP Adapter" class="dd-item"><a href="/hono/docs/2.0/user-guide/amqp-adapter/">AMQP Adapter</a></li>
          <li data-nav-id="/hono/docs/2.0/user-guide/coap-adapter/" title="CoAP Adapter" class="dd-item"><a href="/hono/docs/2.0/user-guide/coap-adapter/">CoAP Adapter</a></li>
          <li data-nav-id="/hono/docs/2.0/user-guide/sigfox-adapter/" title="Sigfox Adapter" class="dd-item"><a href="/hono/docs/2.0/user-guide/sigfox-adapter/">Sigfox Adapter</a></li></ul></li>
          <li data-nav-id="/hono/docs/2.0/admin-guide/" title="Admin Guide" class="dd-item parent"><input type="checkbox" id="section-b96db1f2fa4ff40a114a4f60a142e6b6" class="toggle" checked/><label for="section-b96db1f2fa4ff40a114a4f60a142e6b6" ></label><a href="/hono/docs/2.0/admin-guide/"><i class="fas fa-sliders-h"></i> Admin Guide</a><ul>
          <li data-nav-id="/hono/docs/2.0/admin-guide/common-config/" title="Common Configuration" class="dd-item"><a href="/hono/docs/2.0/admin-guide/common-config/">Common Configuration</a></li>
          <li data-nav-id="/hono/docs/2.0/admin-guide/auth-server-config/" title="Auth Server Configuration" class="dd-item"><a href="/hono/docs/2.0/admin-guide/auth-server-config/">Auth Server Configuration</a></li>
          <li data-nav-id="/hono/docs/2.0/admin-guide/mongodb-device-registry-config/" title="MongoDB Based Device Registry Configuration" class="dd-item active"><a href="/hono/docs/2.0/admin-guide/mongodb-device-registry-config/">MongoDB Based Device Registry Configuration</a></li>
          <li data-nav-id="/hono/docs/2.0/admin-guide/jdbc-device-registry-config/" title="JDBC Based Device Registry Configuration" class="dd-item"><a href="/hono/docs/2.0/admin-guide/jdbc-device-registry-config/">JDBC Based Device Registry Configuration</a></li>
          <li data-nav-id="/hono/docs/2.0/admin-guide/command-router-config/" title="Configuring the Command Router Service" class="dd-item"><a href="/hono/docs/2.0/admin-guide/command-router-config/">Command Router Service Configuration</a></li>
          <li data-nav-id="/hono/docs/2.0/admin-guide/http-adapter-config/" title="HTTP Adapter Configuration" class="dd-item"><a href="/hono/docs/2.0/admin-guide/http-adapter-config/">HTTP Adapter Configuration</a></li>
          <li data-nav-id="/hono/docs/2.0/admin-guide/mqtt-adapter-config/" title="MQTT Adapter Configuration" class="dd-item"><a href="/hono/docs/2.0/admin-guide/mqtt-adapter-config/">MQTT Adapter Configuration</a></li>
          <li data-nav-id="/hono/docs/2.0/admin-guide/amqp-adapter-config/" title="AMQP Adapter Configuration" class="dd-item"><a href="/hono/docs/2.0/admin-guide/amqp-adapter-config/">AMQP Adapter Configuration</a></li>
          <li data-nav-id="/hono/docs/2.0/admin-guide/coap-adapter-config/" title="CoAP Adapter Configuration" class="dd-item"><a href="/hono/docs/2.0/admin-guide/coap-adapter-config/">CoAP Adapter Configuration</a></li>
          <li data-nav-id="/hono/docs/2.0/admin-guide/hono-client-configuration/" title="Hono Client Configuration" class="dd-item"><a href="/hono/docs/2.0/admin-guide/hono-client-configuration/">Hono Client Configuration</a></li>
          <li data-nav-id="/hono/docs/2.0/admin-guide/hono-kafka-client-configuration/" title="Hono Kafka Client Configuration" class="dd-item"><a href="/hono/docs/2.0/admin-guide/hono-kafka-client-configuration/">Hono Kafka Client Configuration</a></li>
          <li data-nav-id="/hono/docs/2.0/admin-guide/amqp-network-config/" title="AMQP 1.0 Messaging Network Configuration" class="dd-item"><a href="/hono/docs/2.0/admin-guide/amqp-network-config/">AMQP 1.0 Messaging Network Configuration</a></li>
          <li data-nav-id="/hono/docs/2.0/admin-guide/kafka-config/" title="Kafka Configuration" class="dd-item"><a href="/hono/docs/2.0/admin-guide/kafka-config/">Kafka Configuration</a></li>
          <li data-nav-id="/hono/docs/2.0/admin-guide/secure_communication/" title="Secure Communication" class="dd-item"><a href="/hono/docs/2.0/admin-guide/secure_communication/">Secure Communication</a></li>
          <li data-nav-id="/hono/docs/2.0/admin-guide/monitoring-tracing-config/" title="Monitoring &amp; Tracing" class="dd-item"><a href="/hono/docs/2.0/admin-guide/monitoring-tracing-config/">Monitoring &amp; Tracing</a></li></ul></li>
          <li data-nav-id="/hono/docs/2.0/dev-guide/" title="Developer Guide" class="dd-item"><input type="checkbox" id="section-cfdebad2e0dcabb97438624bf96f05a4" class="toggle"/><label for="section-cfdebad2e0dcabb97438624bf96f05a4" ></label><a href="/hono/docs/2.0/dev-guide/"><i class="fas fa-tools"></i> Developer Guide</a><ul>
          <li data-nav-id="/hono/docs/2.0/dev-guide/building_hono/" title="Building from Source" class="dd-item"><a href="/hono/docs/2.0/dev-guide/building_hono/">Building from Source</a></li>
          <li data-nav-id="/hono/docs/2.0/dev-guide/amqp_adapter_client/" title="AMQP Adapter Client for Java" class="dd-item"><a href="/hono/docs/2.0/dev-guide/amqp_adapter_client/">AMQP Adapter Client for Java</a></li>
          <li data-nav-id="/hono/docs/2.0/dev-guide/java_client_consumer/" title="Consuming Messages from Java" class="dd-item"><a href="/hono/docs/2.0/dev-guide/java_client_consumer/">Consuming Messages from Java</a></li>
          <li data-nav-id="/hono/docs/2.0/dev-guide/custom_http_adapter/" title="Implement a Custom Hono HTTP Protocol Adapter" class="dd-item"><a href="/hono/docs/2.0/dev-guide/custom_http_adapter/">Implement a Custom Hono HTTP Protocol Adapter</a></li></ul></li>
          <li data-nav-id="/hono/docs/2.0/api/" title="API" class="dd-item"><input type="checkbox" id="section-1b3eda2e8317c0686a4d41cefa0a3453" class="toggle"/><label for="section-1b3eda2e8317c0686a4d41cefa0a3453" ></label><a href="/hono/docs/2.0/api/">&nbsp;<i class='fas fa-plug'></i>&nbsp;API</a><ul>
          <li data-nav-id="/hono/docs/2.0/api/telemetry-kafka/" title="Telemetry API Specification for Kafka" class="dd-item"><a href="/hono/docs/2.0/api/telemetry-kafka/">Telemetry API (Kafka)</a></li>
          <li data-nav-id="/hono/docs/2.0/api/event-kafka/" title="Event API Specification for Kafka" class="dd-item"><a href="/hono/docs/2.0/api/event-kafka/">Event API (Kafka)</a></li>
          <li data-nav-id="/hono/docs/2.0/api/command-and-control-kafka/" title="Command &amp; Control API Specification for Kafka" class="dd-item"><a href="/hono/docs/2.0/api/command-and-control-kafka/">Command &amp; Control API (Kafka)</a></li>
          <li data-nav-id="/hono/docs/2.0/api/kafka-api/" title="Kafka-based APIs" class="dd-item"><a href="/hono/docs/2.0/api/kafka-api/">Kafka-based APIs</a></li>
          <li data-nav-id="/hono/docs/2.0/api/telemetry/" title="Telemetry API Specification for AMQP 1.0" class="dd-item"><a href="/hono/docs/2.0/api/telemetry/">Telemetry API (AMQP 1.0)</a></li>
          <li data-nav-id="/hono/docs/2.0/api/event/" title="Event API Specification for AMQP 1.0" class="dd-item"><a href="/hono/docs/2.0/api/event/">Event API (AMQP 1.0)</a></li>
          <li data-nav-id="/hono/docs/2.0/api/command-and-control/" title="Command &amp; Control API Specification for AMQP 1.0" class="dd-item"><a href="/hono/docs/2.0/api/command-and-control/">Command &amp; Control API (AMQP 1.0)</a></li>
          <li data-nav-id="/hono/docs/2.0/api/tenant/" title="Tenant API Specification" class="dd-item"><a href="/hono/docs/2.0/api/tenant/">Tenant API</a></li>
          <li data-nav-id="/hono/docs/2.0/api/command-router/" title="Command Router API Specification" class="dd-item"><a href="/hono/docs/2.0/api/command-router/">Command Router API</a></li>
          <li data-nav-id="/hono/docs/2.0/api/device-registration/" title="Device Registration API Specification" class="dd-item"><a href="/hono/docs/2.0/api/device-registration/">Device Registration API</a></li>
          <li data-nav-id="/hono/docs/2.0/api/credentials/" title="Credentials API Specification" class="dd-item"><a href="/hono/docs/2.0/api/credentials/">Credentials API</a></li>
          <li data-nav-id="/hono/docs/2.0/api/authentication/" title="Authentication API Specification" class="dd-item"><a href="/hono/docs/2.0/api/authentication/">Authentication API</a></li>
          <li data-nav-id="/hono/docs/2.0/api/management/" title="Device Registry Management API Specification" class="dd-item"><a href="/hono/docs/2.0/api/management/">Device Registry Management API</a></li>
          <li data-nav-id="/hono/docs/2.0/api/metrics/" title="Metrics" class="dd-item"><a href="/hono/docs/2.0/api/metrics/">Metrics</a></li></ul></li>
          <li data-nav-id="/hono/docs/2.0/deployment/" title="Deployment" class="dd-item"><input type="checkbox" id="section-9196179b4df48fe4f393bf8626001e89" class="toggle"/><label for="section-9196179b4df48fe4f393bf8626001e89" ></label><a href="/hono/docs/2.0/deployment/"><i class="fas fa-shipping-fast"></i> Deployment</a><ul>
          <li data-nav-id="/hono/docs/2.0/deployment/helm-based-deployment/" title="Helm based Deployment" class="dd-item"><a href="/hono/docs/2.0/deployment/helm-based-deployment/">Helm based Deployment</a></li>
          <li data-nav-id="/hono/docs/2.0/deployment/openshift/" title="OpenShift / OKD" class="dd-item"><a href="/hono/docs/2.0/deployment/openshift/">OpenShift / OKD</a></li>
          <li data-nav-id="/hono/docs/2.0/deployment/create-kubernetes-cluster/" title="Setting up a Kubernetes Cluster" class="dd-item"><a href="/hono/docs/2.0/deployment/create-kubernetes-cluster/">Setting up a Kubernetes Cluster</a></li>
          <li data-nav-id="/hono/docs/2.0/deployment/resource-limitation/" title="Limiting Resource Usage" class="dd-item"><a href="/hono/docs/2.0/deployment/resource-limitation/">Limiting Resource Usage</a></li></ul></li>
          <li data-nav-id="/hono/docs/2.0/architecture/" title="Architecture" class="dd-item"><input type="checkbox" id="section-a81d732c785e3254a4a6686c290336fc" class="toggle"/><label for="section-a81d732c785e3254a4a6686c290336fc" ></label><a href="/hono/docs/2.0/architecture/"><i class="fas fa-landmark"></i> Architecture</a><ul>
          <li data-nav-id="/hono/docs/2.0/architecture/component-view/" title="Component View" class="dd-item"><a href="/hono/docs/2.0/architecture/component-view/">Component View</a></li>
          <li data-nav-id="/hono/docs/2.0/architecture/auth/" title="Authentication/Authorization" class="dd-item"><a href="/hono/docs/2.0/architecture/auth/">Authentication/Authorization</a></li></ul></li>
        </ul>
        <div id="shortcuts">
          <div class="nav-title"></div>
          <ul>
            <li><a class="padding" href="https://www.eclipse.org/hono/"><i class='fas fa-home'></i> Hono Home</a></li>
          </ul>
        </div>
        <div class="footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showLangSwitch showFooter"></div>
        <hr class="default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showLangSwitch showFooter"/>
        <div id="prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks showLangSwitch">
          <ul>
            <li id="select-language-container" class="footerLangSwitch showLangSwitch">
              <a class="padding select-container">
                <i class="fas fa-language fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <select id="select-language" onchange="location = baseUri + this.value;">
                    <option id="stable" value="/hono/docs/admin-guide/mongodb-device-registry-config/">stable (2.1)</option>
                    <option id="2.1" value="/hono/docs/2.1/admin-guide/mongodb-device-registry-config/">2.1</option>
                    <option id="2.0" value="/hono/docs/2.0/admin-guide/mongodb-device-registry-config/" selected>2.0</option>
                    <option id="1.12" value="/hono/docs/1.12/admin-guide/mongodb-device-registry-config/">1.12</option>
                    <option id="1.11" value="/hono/docs/1.11/admin-guide/mongodb-device-registry-config/">1.11</option>
                    <option id="1.10" value="/hono/docs/1.10/admin-guide/mongodb-device-registry-config/">1.10</option>
                    <option id="1.9" value="/hono/docs/1.9/admin-guide/mongodb-device-registry-config/">1.9</option>
                    <option id="1.8" value="/hono/docs/1.8/admin-guide/mongodb-device-registry-config/">1.8</option>
                    <option id="1.7" value="/hono/docs/1.7/admin-guide/mongodb-device-registry-config/">1.7</option>
                    <option id="1.6" value="/hono/docs/1.6/admin-guide/mongodb-device-registry-config/">1.6</option>
                    <option id="1.5" value="/hono/docs/1.5/admin-guide/mongodb-device-registry-config/">1.5</option>
                    <option id="1.4" value="/hono/docs/1.4/admin-guide/mongodb-device-registry-config/">1.4</option>
                    <option id="1.3" value="/hono/docs/1.3/admin-guide/mongodb-device-registry-config/">1.3</option>
                    <option id="dev" value="/hono/docs/dev/admin-guide/mongodb-device-registry-config/">dev</option>
                  </select>
                </div>
                <div class="select-clear"></div>
              </a>
            </li>
            <li id="select-variant-container" class="footerVariantSwitch">
              <a class="padding select-container">
                <i class="fas fa-paint-brush fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <select id="select-variant" onchange="variants.changeVariant( this.value );">
                    <option id="hono" value="hono" selected>Hono</option>
                  </select>
                </div>
                <div class="select-clear"></div>
              </a>
              <script>variants.markSelectedVariant();</script>
            </li>
            <li class="footerVisitedLinks"><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
          </ul>
        </div>
        <div id="footer" class="footerFooter showFooter">

<p>&copy; 2022 <a href="https://www.eclipse.org/hono/">The Eclipse Hono Project</a></p>

<p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p>

<div class="eclipse-logo">
    <a href="https://www.eclipse.org" target="_blank">
        <img src="https://www.eclipse.org/hono/docs/images/eclipse_foundation_logo.svg"/>
    </a>
</div>

        </div>
      </div>
    </aside>
    <script src="/hono/docs/js/clipboard.min.js?1663550411"></script>
    <script src="/hono/docs/js/perfect-scrollbar.min.js?1663550411"></script>
    <script src="/hono/docs/js/featherlight.min.js?1663550411"></script>
    <script src="/hono/docs/js/theme.js?1663550411"></script>

<script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5WLCZXC');
</script>


<script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>

  </body>
</html>
